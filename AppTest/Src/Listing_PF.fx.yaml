Listing_PF As screen:
    BackgroundImage: =sfondo_italia
    Fill: =RGBA(4,96,169,0.9)

    Container18 As groupContainer.horizontalAutoLayoutContainer:
        BorderColor: =RGBA(0, 0, 0, 0)
        DropShadow: =DropShadow.None
        Height: =Parent.Height - Header_21.Height - ContainerTitolo_1.Height
        LayoutGap: =20
        LayoutMode: =LayoutMode.Auto
        PaddingBottom: =20
        PaddingLeft: =30
        PaddingRight: =30
        PaddingTop: =20
        Width: =Parent.Width
        Y: =Header_21.Height + ContainerTitolo_1.Height
        ZIndex: =1

        Container19 As groupContainer.manualLayoutContainer:
            BorderColor: =RGBA(0, 0, 0, 0)
            DropShadow: =DropShadow.None
            FillPortions: =2
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            ZIndex: =1

            Button4 As button:
                Fill: =RGBA(255, 255, 255, 1)
                Height: =Parent.Height
                HoverFill: =Color.White
                RadiusBottomLeft: =20
                RadiusBottomRight: =20
                RadiusTopLeft: =20
                RadiusTopRight: =20
                Text: =
                Width: =Parent.Width
                ZIndex: =1

            "Gallery1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                BorderColor: =RGBA(0, 0, 0, 0)
                DelayItemLoading: =true
                Height: =498
                Items: |-
                    =SortByColumns(
                        Filter(
                            Documents,
                            'Percorso cartella' = varFolderPathPFProceduraModRegione
                        ),
                        "{IsFolder}",
                        SortOrder.Descending,
                        "{Name}",
                        SortOrder.Ascending  
                    )
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =0
                TemplateSize: =80
                Width: =813
                X: =Parent.Width/2 - Self.Width/2
                Y: =ContainerTitoliPM.Height
                ZIndex: =2

                ModificatoDa As label:
                    AutoHeight: =true
                    Height: =69
                    OnSelect: =Select(Parent)
                    Text: =ThisItem.'Modificato da'.DisplayName
                    Tooltip: =ThisItem.'Modificato da'.DisplayName
                    Wrap: =false
                    X: =DataModifica.X + DataModifica.Width + 20
                    Y: =Rectangle13.Height/2 - Self.Height/2
                    ZIndex: =1

                LabelTitolo As label:
                    AutoHeight: =true
                    FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                    Height: =59
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =13
                    Text: =ThisItem.Nome
                    Tooltip: =ThisItem.Nome
                    VerticalAlign: =VerticalAlign.Top
                    Width: =250
                    Wrap: =false
                    X: =IconaFileFolder.Width
                    Y: =Parent.TemplateHeight/2 - Self.Height/2
                    ZIndex: =2

                DataModifica As label:
                    AutoHeight: =true
                    FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                    Height: =59
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =ThisItem.'Data/ora modifica'
                    Tooltip: =ThisItem.'Data/ora modifica'
                    VerticalAlign: =VerticalAlign.Top
                    Width: =208
                    Wrap: =false
                    X: =LabelTitolo.X + LabelTitolo.Width + 30
                    Y: =Rectangle13.Height/2 - Self.Height/2
                    ZIndex: =3

                Separator1 As rectangle:
                    Fill: =RGBA(230,230,230,1)
                    Height: =1
                    OnSelect: =Select(Parent)
                    Width: =Parent.TemplateWidth
                    Y: =Parent.TemplateHeight - Self.Height
                    ZIndex: =5

                Rectangle13 As rectangle:
                    BorderColor: =RGBA(255, 255, 255, 1)
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: =Parent.TemplateHeight - Separator1.Height
                    OnSelect: =Select(Parent)
                    Visible: =ThisItem.IsSelected
                    Width: =4
                    ZIndex: =6

                IconaFileFolder As icon.DocumentwithContent:
                    Color: =If(ToggleIsFolder.Value= true, RGBA(227,184,11,1), RGBA(0,32,104,1))
                    Height: =29
                    Icon: =If(ToggleIsFolder.Value= true, Icon.Folder, Icon.DocumentWithContent)
                    OnSelect: |
                        =If(
                            ToggleIsFolder.Value = true ,
                            // get the current location for the selected folder
                            Set(
                               varFolderPathPFProceduraModRegione,
                               LabelPercorsoCompleto.Text & "/"
                            )
                        );
                        If(
                            ToggleIsFolder.Value = false,
                            Set( NameExtAllegatoListReg , Last(Split(LabelNomeFileExt.Text, ".")).Value);
                        
                            If( NameExtAllegatoListReg = "pdf",
                                Set(pdf_v_listing_regione, 'NVS-PDF'.Run(ThisItem.Identificatore).pdf);
                                Set(isPDFviewListingRegione, true),
                                If( NameExtAllegatoListReg = "xlsx" || NameExtAllegatoListReg = "eml",
                                  Launch(ThisItem.'Collegamento a elemento')
                                )
                            )
                        
                        )
                    Width: =40
                    Y: =Rectangle13.Height/2 - Self.Height/2
                    ZIndex: =7

                ToggleIsFolder As toggleSwitch:
                    Default: =ThisItem.Cartella
                    OnSelect: =Select(Parent)
                    Visible: =false
                    X: =80
                    Y: =80
                    ZIndex: =8

                LabelPercorsoCartella As label:
                    Height: =47
                    OnSelect: =Select(Parent)
                    Text: =ThisItem.'Percorso cartella'
                    Visible: =false
                    Width: =777
                    X: =40
                    ZIndex: =9

                LabelPercorsoCompleto As label:
                    Height: =57
                    OnSelect: =Select(Parent)
                    Text: =ThisItem.'Percorso completo'
                    Visible: =false
                    Width: =745
                    X: =52
                    ZIndex: =10

                DownloadIcon As image:
                    Height: =35
                    Image: =Icon_Download_Purple
                    OnSelect: =Select(Parent)
                    Width: =35
                    X: =DownloadPM.X + DownloadPM.Width/2 - Self.Width/2
                    Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                    ZIndex: =11

                LabelNomeFileExt As label:
                    Height: =47
                    OnSelect: =Select(Parent)
                    Text: =ThisItem.'Nome file con estensione'
                    Visible: =false
                    Width: =777
                    X: =36
                    Y: =33
                    ZIndex: =12

            ContainerTitoliPM As groupContainer.manualLayoutContainer:
                BorderColor: =RGBA(0, 0, 0, 0)
                DropShadow: =DropShadow.None
                Height: =80
                Width: =Gallery1.Width
                X: =Parent.Width/2 - Self.Width/2
                ZIndex: =5

                Separator1_1 As rectangle:
                    Fill: =RGBA(230,230,230,1)
                    Height: =1
                    Width: =Parent.Width
                    Y: =Parent.Height - 1
                    ZIndex: =1

                NomePM As label:
                    AutoHeight: =true
                    FontWeight: =FontWeight.Semibold
                    PaddingLeft: =0
                    Text: ="Nome"
                    X: =LabelTitolo.X
                    Y: =Parent.Height/2 - Self.Height/2
                    ZIndex: =2

                DataModPM As label:
                    AutoHeight: =true
                    FontWeight: =FontWeight.Semibold
                    PaddingLeft: =0
                    PaddingRight: =0
                    Text: ="Data/Ora Modifica"
                    X: =DataModifica.X
                    Y: =Parent.Height/2 - Self.Height/2
                    ZIndex: =3

                ModByPM As label:
                    AutoHeight: =true
                    FontWeight: =FontWeight.Semibold
                    PaddingLeft: =0
                    Text: ="Modificato da"
                    X: =ModificatoDa.X
                    Y: =Parent.Height/2 - Self.Height/2
                    ZIndex: =4

                DownloadPM As label:
                    FontWeight: =FontWeight.Semibold
                    Height: =36
                    PaddingRight: =0
                    Text: ="Download"
                    Width: =102
                    X: =711
                    Y: =Parent.Height/2 - Self.Height/2
                    ZIndex: =5

                IconBack As icon.BackArrow:
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: =40
                    Icon: =Icon.BackArrow
                    OnSelect: |
                        = Set(
                            varFolderPathPFProceduraModRegione,
                            Concat(
                                FirstN(
                                    Split(varFolderPathPFProceduraModRegione, "/"), 
                                    CountRows(Split(varFolderPathPFProceduraModRegione, "/"))-2),
                                    Value,
                                "/")
                        & "/")
                    PaddingBottom: =5
                    PaddingTop: =5
                    Visible: |-
                        =If(
                            varFolderPathPFProceduraModRegione = "Documents/Politiche Farmaceutiche/Procedura e Modulistica/" & VarNomeRegione & " - Procedura e Modulistica/",
                            false,
                            true)
                    Width: =40
                    Y: =Parent.Height/2 - Self.Height/2
                    ZIndex: =6

        Container21 As groupContainer.manualLayoutContainer:
            BorderColor: =RGBA(0, 0, 0, 0)
            DropShadow: =DropShadow.None
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            ZIndex: =2

    ContainerTitolo_1 As groupContainer.horizontalAutoLayoutContainer:
        BorderColor: =RGBA(0, 0, 0, 0)
        DropShadow: =DropShadow.None
        Height: =Titolo_18.Height + 40
        LayoutAlignItems: =LayoutAlignItems.Center
        LayoutMode: =LayoutMode.Auto
        PaddingLeft: =Container17.PaddingLeft
        Width: =Parent.Width
        Y: =Header_21.Height
        ZIndex: =2

        backHome_19 As image:
            Height: =40
            Image: =Expand_down_light
            OnSelect: |+
                =Navigate(Show_Regione_Politiche)
                
            Width: =36.05
            X: =136
            Y: =116
            ZIndex: =1

        Titolo_18 As label:
            AutoHeight: =true
            BorderColor: =RGBA(0, 0, 0, 0)
            Color: =RGBA(241, 244, 249, 1)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            Font: =Font.Lato
            FontWeight: =FontWeight.Bold
            PaddingLeft: =0
            Size: =20
            Text: ="Listing/" & VarNomeRegione
            Width: =Parent.Width
            X: =172
            Y: =116
            ZIndex: =2

    Header_21 As Header:
        ZIndex: =3

    grpPDFview_4 As group:
        Height: =5
        Width: =5
        X: =120
        Y: =120
        ZIndex: =4

        Rectangle1_6 As rectangle:
            Height: =570
            Visible: =isPDFviewListingRegione
            Width: =1198
            X: =110
            Y: =100
            ZIndex: =5

        PdfViewer1_6 As pdfViewer:
            BorderColor: =RGBA(0, 0, 0, 1)
            Document: =pdf_v_listing_regione
            Fill: =RGBA(0, 0, 0, 0.5)
            Height: =514
            ShowControls: =true
            Visible: =isPDFviewListingRegione
            Width: =1198
            X: =110
            Y: =156
            ZIndex: =6

        Icon1_6 As icon.Cancel:
            Height: =30
            Icon: =Icon.Cancel
            OnSelect: =Set(isPDFviewListingRegione, false)
            Visible: =isPDFviewListingRegione
            Width: =30
            X: =1266
            Y: =117
            ZIndex: =7

